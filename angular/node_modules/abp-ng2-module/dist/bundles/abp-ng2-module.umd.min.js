!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs"),require("@angular/common/http")):"function"==typeof define&&define.amd?define(["exports","@angular/core","rxjs","@angular/common/http"],t):t(((e=e||self).ng=e.ng||{},e.ng.abpModule={}),e.ng.core,e.rxjs,e.http)}(this,function(e,t,u,f){"use strict";var r=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(a=(i<3?o(a):3<i?o(t,r,a):o(t,r))||a);return 3<i&&a&&Object.defineProperty(t,r,a),a},n=function(){function e(){}return Object.defineProperty(e.prototype,"userId",{get:function(){return abp.session.userId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tenantId",{get:function(){return abp.session.tenantId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"impersonatorUserId",{get:function(){return abp.session.impersonatorUserId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"impersonatorTenantId",{get:function(){return abp.session.impersonatorTenantId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiTenancySide",{get:function(){return abp.session.multiTenancySide},enumerable:!0,configurable:!0}),e=r([t.Injectable()],e)}(),o=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(a=(i<3?o(a):3<i?o(t,r,a):o(t,r))||a);return 3<i&&a&&Object.defineProperty(t,r,a),a},i=function(){function e(){}return e.prototype.isGranted=function(e){return abp.auth.isGranted(e)},e=o([t.Injectable()],e)}(),a=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(a=(i<3?o(a):3<i?o(t,r,a):o(t,r))||a);return 3<i&&a&&Object.defineProperty(t,r,a),a},c=function(){function e(){}return e.prototype.get=function(e){return abp.features.get(e)},e.prototype.getValue=function(e){return abp.features.getValue(e)},e.prototype.isEnabled=function(e){return abp.features.isEnabled(e)},e=a([t.Injectable()],e)}(),l=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(a=(i<3?o(a):3<i?o(t,r,a):o(t,r))||a);return 3<i&&a&&Object.defineProperty(t,r,a),a},p=function(){function e(){}return Object.defineProperty(e.prototype,"languages",{get:function(){return abp.localization.languages},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentLanguage",{get:function(){return abp.localization.currentLanguage},enumerable:!0,configurable:!0}),e.prototype.localize=function(e,t){return abp.localization.localize(e,t)},e.prototype.getSource=function(e){return abp.localization.getSource(e)},e=l([t.Injectable()],e)}(),s=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(a=(i<3?o(a):3<i?o(t,r,a):o(t,r))||a);return 3<i&&a&&Object.defineProperty(t,r,a),a},d=function(){function e(){}return e.prototype.get=function(e){return abp.setting.get(e)},e.prototype.getBoolean=function(e){return abp.setting.getBoolean(e)},e.prototype.getInt=function(e){return abp.setting.getInt(e)},e=s([t.Injectable()],e)}(),b=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(a=(i<3?o(a):3<i?o(t,r,a):o(t,r))||a);return 3<i&&a&&Object.defineProperty(t,r,a),a},g=function(){function e(){}return e.prototype.info=function(e,t,r){abp.notify.info(e,t,r)},e.prototype.success=function(e,t,r){abp.notify.success(e,t,r)},e.prototype.warn=function(e,t,r){abp.notify.warn(e,t,r)},e.prototype.error=function(e,t,r){abp.notify.error(e,t,r)},e=b([t.Injectable()],e)}(),y=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(a=(i<3?o(a):3<i?o(t,r,a):o(t,r))||a);return 3<i&&a&&Object.defineProperty(t,r,a),a},h=function(){function e(){}return e.prototype.info=function(e,t,r){return abp.message.info(e,t,r)},e.prototype.success=function(e,t,r){return abp.message.success(e,t,r)},e.prototype.warn=function(e,t,r){return abp.message.warn(e,t,r)},e.prototype.error=function(e,t,r){return abp.message.error(e,t,r)},e.prototype.confirm=function(e,t,r,n){return"string"==typeof t?abp.message.confirm(e,t,r,n):abp.message.confirm(e,void 0,t,n)},e=y([t.Injectable()],e)}(),j=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(a=(i<3?o(a):3<i?o(t,r,a):o(t,r))||a);return 3<i&&a&&Object.defineProperty(t,r,a),a},R=function(){function e(){}return e.prototype.debug=function(e){abp.log.debug(e)},e.prototype.info=function(e){abp.log.info(e)},e.prototype.warn=function(e){abp.log.warn(e)},e.prototype.error=function(e){abp.log.error(e)},e.prototype.fatal=function(e){abp.log.fatal(e)},e=j([t.Injectable()],e)}(),v=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(a=(i<3?o(a):3<i?o(t,r,a):o(t,r))||a);return 3<i&&a&&Object.defineProperty(t,r,a),a},m=function(){function e(){}return Object.defineProperty(e.prototype,"isEnabled",{get:function(){return abp.multiTenancy.isEnabled},enumerable:!0,configurable:!0}),e=v([t.Injectable()],e)}(),O=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(a=(i<3?o(a):3<i?o(t,r,a):o(t,r))||a);return 3<i&&a&&Object.defineProperty(t,r,a),a},w=function(){function e(){}return e.prototype.getToken=function(){return abp.auth.getToken()},e.prototype.getTokenCookieName=function(){return abp.auth.tokenCookieName},e.prototype.clearToken=function(){abp.auth.clearToken()},e.prototype.setToken=function(e,t){abp.auth.setToken(e,t)},e=O([t.Injectable()],e)}(),A=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(a=(i<3?o(a):3<i?o(t,r,a):o(t,r))||a);return 3<i&&a&&Object.defineProperty(t,r,a),a},P=function(){function e(){}return e.prototype.getCookieValue=function(e){return abp.utils.getCookieValue(e)},e.prototype.setCookieValue=function(e,t,r,n){abp.utils.setCookieValue(e,t,r,n)},e.prototype.deleteCookie=function(e,t){abp.utils.deleteCookie(e,t)},e=A([t.Injectable()],e)}(),T=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(a=(i<3?o(a):3<i?o(t,r,a):o(t,r))||a);return 3<i&&a&&Object.defineProperty(t,r,a),a},E=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},S=function(){function e(e,t){this._messageService=e,this._logService=t,this.defaultError={message:"An error has occurred!",details:"Error details were not sent by server."},this.defaultError401={message:"You are not authenticated!",details:"You should be authenticated (sign in) in order to perform this operation."},this.defaultError403={message:"You are not authorized!",details:"You are not allowed to perform this operation."},this.defaultError404={message:"Resource not found!",details:"The resource requested could not be found on the server."}}return e.prototype.logError=function(e){this._logService.error(e)},e.prototype.showError=function(e){return e.details?this._messageService.error(e.details,e.message||this.defaultError.message):this._messageService.error(e.message||this.defaultError.message)},e.prototype.handleTargetUrl=function(e){location.href=e||"/"},e.prototype.handleUnAuthorizedRequest=function(e,t){var r=this;e?e.done(function(){r.handleTargetUrl(t||"/")}):this.handleTargetUrl(t||"/")},e.prototype.handleNonAbpErrorResponse=function(e){var t=this;switch(e.status){case 401:t.handleUnAuthorizedRequest(t.showError(t.defaultError401),"/");break;case 403:t.showError(t.defaultError403);break;case 404:t.showError(t.defaultError404);break;default:t.showError(t.defaultError)}},e.prototype.handleAbpResponse=function(e,t){var r;return t.success?(r=e.clone({body:t.result}),t.targetUrl&&this.handleTargetUrl(t.targetUrl)):(r=e.clone({body:t.result}),t.error||(t.error=this.defaultError),this.logError(t.error),this.showError(t.error),401===e.status&&this.handleUnAuthorizedRequest(null,t.targetUrl)),r},e.prototype.getAbpAjaxResponseOrNull=function(e){if(!e||!e.headers)return null;var t=e.headers.get("Content-Type");if(!t)return this._logService.warn("Content-Type is not sent!"),null;if(t.indexOf("application/json")<0)return this._logService.warn("Content-Type is not application/json: "+t),null;var r=JSON.parse(JSON.stringify(e.body));return r.__abp?r:null},e.prototype.handleResponse=function(e){var t=this.getAbpAjaxResponseOrNull(e);return null==t?e:this.handleAbpResponse(e,t)},e.prototype.blobToText=function(r){return new u.Observable(function(e){if(r){var t=new FileReader;t.onload=function(){e.next(this.result),e.complete()},t.readAsText(r)}else e.next(""),e.complete()})},e=T([t.Injectable(),E("design:paramtypes",[h,R])],e)}(),C=(function(){function e(e){this._tokenService=new w,this._utilsService=new P,this._logService=new R,this.configuration=e}e.prototype.intercept=function(e,t){var r=this,n=new u.Subject,o=this.normalizeRequestHeaders(e);return t.handle(o).subscribe(function(e){r.handleSuccessResponse(e,n)},function(e){return r.handleErrorResponse(e,n)}),n},e.prototype.normalizeRequestHeaders=function(e){var t=new f.HttpHeaders;return t=e.headers.set("Pragma","no-cache").set("Cache-Control","no-cache").set("Expires","Sat, 01 Jan 2000 00:00:00 GMT"),t=this.addXRequestedWithHeader(t),t=this.addAuthorizationHeaders(t),t=this.addAspNetCoreCultureHeader(t),t=this.addAcceptLanguageHeader(t),t=this.addTenantIdHeader(t),e.clone({headers:t})},e.prototype.addXRequestedWithHeader=function(e){return e&&(e=e.set("X-Requested-With","XMLHttpRequest")),e},e.prototype.addAspNetCoreCultureHeader=function(e){var t=this._utilsService.getCookieValue("Abp.Localization.CultureName");return t&&e&&!e.has(".AspNetCore.Culture")&&(e=e.set(".AspNetCore.Culture",t)),e},e.prototype.addAcceptLanguageHeader=function(e){var t=this._utilsService.getCookieValue("Abp.Localization.CultureName");return t&&e&&!e.has("Accept-Language")&&(e=e.set("Accept-Language",t)),e},e.prototype.addTenantIdHeader=function(e){var t=this._utilsService.getCookieValue("Abp.TenantId");return t&&e&&!e.has("Abp.TenantId")&&(e=e.set("Abp.TenantId",t)),e},e.prototype.addAuthorizationHeaders=function(e){var t=e?e.getAll("Authorization"):null;if(t||(t=[]),!this.itemExists(t,function(e){return 0==e.indexOf("Bearer ")})){var r=this._tokenService.getToken();e&&r&&(e=e.set("Authorization","Bearer "+r))}return e},e.prototype.handleSuccessResponse=function(n,o){var i=this;if(n instanceof f.HttpResponse)if(n.body instanceof Blob&&n.body.type&&0<=n.body.type.indexOf("application/json")){n.clone();i.configuration.blobToText(n.body).subscribe(function(e){var t="null"==e?{}:JSON.parse(e),r=i.configuration.handleResponse(n.clone({body:t}));o.next(r.clone({body:new Blob([JSON.stringify(r.body)],{type:"application/json"})})),o.complete()})}else o.next(n),o.complete();else o.next(n)},e.prototype.handleErrorResponse=function(o,i){var a=this,c=new u.Subject;return o.error instanceof Blob?(this.configuration.blobToText(o.error).subscribe(function(e){var t=""==e||"null"==e?{}:JSON.parse(e),r=new f.HttpResponse({headers:o.headers,status:o.status,body:t}),n=a.configuration.getAbpAjaxResponseOrNull(r);null!=n?a.configuration.handleAbpResponse(r,n):a.configuration.handleNonAbpErrorResponse(r),c.complete(),i.error(o),i.complete()}),c):(i.error(o),i.complete(),u.of({}))},e.prototype.itemExists=function(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return!0;return!1},e=T([t.Injectable(),E("design:paramtypes",[S])],e)}(),function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(a=(i<3?o(a):3<i?o(t,r,a):o(t,r))||a);return 3<i&&a&&Object.defineProperty(t,r,a),a}),I=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},k=function(){function e(e){this._http=e}return e.prototype.initialize=function(){this._http.get("/AbpUserConfiguration/GetAll").subscribe(function(e){jQuery.extend(!0,abp,JSON.parse(JSON.stringify(e)))})},e=C([t.Injectable(),I("design:paramtypes",[f.HttpClient])],e)}(),x=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(a=(i<3?o(a):3<i?o(t,r,a):o(t,r))||a);return 3<i&&a&&Object.defineProperty(t,r,a),a},N=function(){function e(){}return e=x([t.NgModule({declarations:[],providers:[n,i,c,p,d,g,h,R,m,k,S,w,P]})],e)}();e.AbpModule=N,e.AbpUserConfigurationService=k,Object.defineProperty(e,"__esModule",{value:!0})});